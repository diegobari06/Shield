<head>
    <link href="../../assets/global/css/components-md.css" id="style_components" rel="stylesheet" type="text/css" />
</head>

<div id="headerAccess" class="col-md-12 page-header md-shadow-z-1-i navbar navbar-fixed-top">
    <div class="col-md-9 col-sm-9 col-xs-7 page-header-inner">
        <div class="page-logo">
            <a href="index.html">
                <img src="../../assets/admin/layout/img/logo.png" alt="logo" class="logo-default" />
            </a>
        </div>
    </div>
    <div class="col-md-3  col-sm-3  col-xs-5 ">
        <div class="top-menu">
            <ul class="nav navbar-nav pull-right">

                <li class="dropdown dropdown-extended" id="header_notification_bar">
                    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                        <i class="icon-envelope-open"></i>
                        <span class="badge badge-default">
            {{notesQuantity}} </span>
                    </a>
                    <ul class="dropdown-menu">
                        <li class="external">
                            <h3><span class="bold">{{notesQuantity}}</span> Servicios a domicilio</h3>
                            <a href="page_inbox.html">Ver todos</a>
                        </li>
                        <li>
                            <ul class="dropdown-menu-list scroll" style="height: 325px;" data-handle-color="#637283">
                                <li ng-repeat="note in notes | orderBy:'-creation_date'">
                                    <a href="inbox.html?a=view">

                                        <span class="subject">
                                            <span class="bold font-14 blue-font col-lg-5 col-md-5 no-padding">Casa {{note.house_id}}</span>
                                        <span class="light-gray-font col-lg-7 col-md-7 text-right no-padding"> {{note.creation_time}}</span>
                                        </span>
                                        <span class="message ">{{note.description}}</span>
                                    </a>
                                </li>



                            </ul>
                        </li>
                    </ul>
                </li>
                <!-- <li class="dropdown dropdown-extended " id="header_notification_bar">
                    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                        <i class="icon-bell"></i>
                        <span class="badge badge-default">	7 </span>
                    </a>
                    <ul class="dropdown-menu">
                        <li class="external">
                            <h3><span class="bold">12 pending</span> notifications</h3>
                            <a href="extra_profile.html">view all</a>
                        </li>
                        <li>
                            <ul class="dropdown-menu-list scroller" style="height: 250px;" data-handle-color="#637283">
                                <li>
                                    <a href="javascript:;">
                                        <span class="time">5 days</span>
                                        <span class="details"><span class="label label-sm label-icon label-info"><i class="fa fa-bullhorn"></i>	</span> System Error. </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:;">
                                        <span class="time">9 days</span>
                                        <span class="details">	<span class="label label-sm label-icon label-danger"><i class="fa fa-bolt"></i>	</span> Storage server failed. </span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li> -->
                <li class="dropdown dropdown-user">
                    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                        <i class="icon-user " style="color: #607D8B; margin-top:3px; font-size:18px"></i>
                        <i class="fa fa-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu ">
                        <li>
                            <a href="" ng-click="signOut()">
                                <i class="icon-key"></i> Cerrar sesión</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="access-back ">
    <div class="opacity col-lg-12 col-md-12 col-sm-12">
        <form ng-submit="submitAccess(accessForm)" role="form" ng-init="accessForm = {}" name="access">}
        </form>
        <div class="height-6-percent col-md-12 hidden-sm hidden-xs"></div>
        <div class="access-container col-md-offset-1 col-md-10 col-sm-offset-1 col-sm-10 col-xs-12 ">
            <div ng-hide="hideRegisterForm==1" class="col-md-6 col-sm-6 no-padding " id="access-door-container">
                <div class="portlet light bordered access-search-container col-md-12  col-sm-12 col-xs-12 ">
                    <h1 id="access_tittle" class="page-title small-margin-top text-center col-md-12"> Puerta de acceso </h1>
                    <div class="height-5-percent col-md-12 hidden-xs"></div>
                    <div class="form-group no-padding col-md-offset-2 col-md-8 col-sm-12">
                        <div class="input-group">
                            <span class="input-group-addon ">
                                <i class="fa fa-car"></i>
                                </span>
                            <input type="text" id="vehicule_license_plate" class="form-control height-12-percent font-19 input_id specialCharacters gray-font" ng-change="getVehicule()" ng-model="id_vehicule" placeholder="Número placa (sin guiones)">
                        </div>

                    </div>
                    <button class="btn   left-padding-10 col-md-1 col-sm-2   col-xs-2 btn-access-door height-39-pixel no-shadow" ng-click="deleteResidentVehiculeSpots()" title="Borrar texto" name="button">
                        <span>  <i class="fa fa-times-circle font-20 gray-font" aria-hidden="true"></i></span>
                    </button>
                    <div class="height-12-percent col-md-12 col-sm-12 hidden-xs"></div>
                    <div class="form-group no-padding col-md-offset-2  col-md-8 col-sm-12">
                        <div class="input-group">
                            <span class="input-group-addon ">
                                  <i class="fa fa-user"></i>
                                  </span>
                            <input type="text" class="form-control height-12-percent numbers font-20 input_id gray-font" ng-change="getResident()" ng-model="id_number" placeholder="Cédula">
                        </div>

                    </div>
                    <button class="btn   left-padding-10 col-md-1 col-sm-2   col-xs-2 btn-access-door height-41-pixel no-shadow" ng-click="deleteResidentVehiculeSpots()" title="Borrar texto" name="button">
                        <span>  <i class="fa fa-times-circle font-20 gray-font" aria-hidden="true"></i></span>
                    </button>


                    <div class="height-4-percent col-md-12 col-sm-12 hidden-xs "></div>

                    <button type="submit" class="btn blue font-15 col-md-offset-2 col-md-7  col-sm-9 col-xs-9 btn-access-door" ng-click="searchVisitor()" name="button">Registrar visitante</button>

                    <button class="btn red col-md-1 col-sm-2 col-xs-2 btn-access-door" id="access_key_button" ng-click="show=8" name="button" title="Consultar clave de seguridad o emergencia">
                        <span>  <i class="fa fa-key font-17" aria-hidden="true"></i></span>
                    </button>



                </div>
                <button type="submit" class="btn green font-15 col-md-12 col-sm-12 col-xs-12 btn-access-door " ng-click="getOfficials()" name="buton">Registrar cambio de turno</button>
                <div class="height-3-percent col-md-12 col-sm-12 hidden-xs "></div>
            </div>

            <div ng-hide="hideRegisterForm==1" class="access-result-search-container col-md-6 col-sm-6 col-xs-12 ">

                <div class="portlet light bordered access-information-result-container col-md-12 col-sm-12">

                    <div class="col-md-12 col-sm-12 col-xs-12" ng-show="show==3" id="this">

                        <div id="error-image" class="result-image"></div>

                        <div class="height-5-percent col-md-12 col-sm-12 hidden-xs "></div>
                        <p class="red text-center font-30 col-md-12  col-sm-12  col-xs-12">No se encontran datos registrados</p>
                    </div>

                    <div class="col-md-12 col-sm-12 col-xs-12" ng-show="show==2">
                        <div class="loading col-lg-12 col-md-12 col-sm-12 col-xs-12" id="loadingIcon">
                            <h1 class="text-center"><img src="../../assets/global/img/2.gif" alt="" /></h1>
                        </div>
                        <div class="display-none " id="vehiculeAccess">
                            <h1 class="page-title {{colorVehiculeRegistered}} bold text-center font-30 " id="access_tittle">{{vehiculeRegisteredTitle}}</h1>
                            <div class="col-md-12 col-sm-12 ">
                                <div id="{{imageVehiculeState}}" class="result-image "></div>
                            </div>
                            <div class="height-5-percent hidden-md col-sm-12 hidden-xs "></div>
                            <div class="access_car_information gray-font text-center col-md-4 col-sm-6 col-xs-12 no-padding">
                                <h5 class="bold font-30" style="text-transform: uppercase;">{{license_plate}}</h5>
                                <h5 class="font-20">Placa</h5>
                            </div>

                            <div class="col-md-4 col-sm-6 col-xs-12 no-padding marging-top-20">
                                <h1 class="col-mg-12 text-center "><i class=" text-center fa fa-car font-80 " style="color: {{color}}; " aria-hidden="true "></i> </h1>
                            </div>
                            <div class="height-4-percent hidden-md hidden-lg col-sm-12 hidden-xs "></div>
                            <div class="col-md-4 col-sm-6 gray-font no-padding text-center ">
                                <h5 class="bold font-30">{{SelectedBrand}}</h5>
                                <h5 class=" font-20">Marca</h5>

                            </div>

                            <div class="height-1-percent col-md-12 hidden-sm hidden-xs text-center"></div>

                            <div class="col-md-5 col-sm-6 text-center gray-font no-padding">
                                <h5 class="font-30 bold text-center "> {{SelectedHouse}}</h5>
                                <h5 class=" font-20 text-center">Casa</h5>
                            </div>
                            <div class="height-1-percent hidden-md hidden-lg col-sm-12 hidden-xs text-center"></div>
                            <div class="height-6-percent col-md-7 hidden-sm hidden-xs text-center"></div>
                            <button type="submit" class="btn red font-11 col-md-7 col-sm-12 col-xs-12 btn-access-door " ng-click="getKeys()" name="buton ">Ver claves de seguridad </button>

                        </div>
                    </div>

                    <div class="col-md-12 col-sm-12 col-xs-12 " ng-show="show==1 ">
                        <div class="loading col-lg-12 col-md-12 col-sm-12 col-xs-12" id="loadingIcon">
                            <h1 class="text-center"><img src="../../assets/global/img/2.gif" alt="" /></h1>
                        </div>
                        <div class="display-none" id="residentAccess">
                            <h1 class="page-title {{colorResidentRegistered}} bold text-center font-30 " id="registered_access_tittle">{{residentRegisteredTitle}}</h1>
                            <div class="" id="success-resident-image">
                                <img src="http://www.qtem.org/files/attach/images/contact/5438/BVP%20profile%20sq%202.jpg " id="success-resident-image" class="img-rounded" />
                            </div>

                            <div class="col-md-8 gray-font">
                                <div class="height-5-percent col-md-12 hidden-sm hidden-xs "></div>
                                <h5 class="font-20 text-center bold gray-font">{{name}}</h5>
                                <h5 class="font-20 text-center gray-font">Nombre</h5>
                            </div>
                            <div class="col-md-4 col-sm-4  gray-font">
                                <h5 class="font-30 bold text-center"> {{house_number}}</h5>
                                <h5 class="font-20 text-center">Casa</h5>
                            </div>



                            <div class="col-md-8 col-sm-8 text-center gray-font no-padding">
                                <h5 class="font-30 bold text-center "> {{indentification}}</h5>
                                <h5 class=" font-20 text-center">Cédula</h5>
                            </div>
                            <div class="height-5-percent col-md-4 col-sm-12 hidden-xs hidden-sm text-center"></div>
                            <button type="submit" class="btn red font-11 col-md-4 col-sm-12 col-xs-12 btn-access-door " ng-click="getKeys()" name="buton ">Ver claves </button>


                        </div>
                    </div>

                    <div class="col-md-12 col-sm-12 col-xs-12 " ng-show="show==5 ">
                        <div class="portlet-title gray-font">
                            <div class="caption text-center font-19">
                                Registrar visitante
                            </div>
                        </div>
                        <div class="portlet-body form">
                            <form role="form" ng-submit="insertVisitor()">
                                <div class="form-body">
                                    <div class="form-group col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                        <i class="fa fa-indent"></i>
                                        </span>
                                            <input type="text" ng-change="getVisitor()" ng-model="visitor_id_number" class="form-control font-15 gray-font numbers" id="identification_number" placeholder="Cédula" required>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                    											<i class="fa fa-user"></i>
                    											</span>
                                            <input type="text" id="name" ng-model="visitor_name" class="form-control font-15 gray-font letters" placeholder="Nombre" required style="text-transform: capitalize;">
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                          <i class="fa fa-user"></i>
                                          </span>
                                            <input type="text" ng-model="visitor_last_name" class="form-control font-15 gray-font letters" id="last_name" placeholder="Primer apellido" required style="text-transform: capitalize;">
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                          <i class="fa fa-user"></i>
                                          </span>
                                            <input type="text" ng-model="visitor_second_last_name" class="form-control font-15 gray-font letters" id="second_last_name" placeholder="Segundo apellido" style="text-transform: capitalize;">
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                          <i class="fa fa-car"></i>
                                          </span>
                                            <input type="text" ng-model="visitor_license_plate" ng-change="capitalize()" class="form-control font-15 gray-font specialCharacters" id="license_plate" placeholder="Número placa (opcional)">
                                        </div>
                                    </div>
                                    <div class="form-group  col-md-12 no-padding">
                                        <label class="col-md-4 col-sm-3 col-xs-5 gray-font">Número de casa</label>
                                        <div class="form-group col-md-8 col-sm-9 col-xs-7">
                                            <select class="form-control gray-font" data-ng-model="house" ng-options="house.house_number for house in houses | orderBy: 'id' track by house.id" required>
                                                <option value="">Seleccione una casa</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group  col-md-12 ">
                                        <h3 class="text-right">
                                        <button type="submit" class="btn blue">Registrar</button>
                                        <button type="button" ng-click="show=4" class="btn default gray-font">Cancelar</button>
                                      </h3>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12 " ng-show="show==8 ">
                        <div class="portlet-title gray-font">
                            <div class="caption text-center font-19">
                                Consultar clave de seguridad
                            </div>
                        </div>
                        <div class="height-5-percent col-md-12 hidden-sm hidden-xs "></div>
                        <div class="portlet-body form">
                            <form role="form" ng-submit="getKeyInformation()">
                                <div class="form-body">
                                    <div class="form-group col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon">
                                        <i class="fa fa-key"></i>
                                        </span>
                                            <input type="text" ng-model="security_key" class="form-control gray-font height-12-percent font-19 " id="identification_number" placeholder="Clave de seguridad o emergencia">
                                        </div>
                                        <h3 class="text-right ">
                                              <button type="submit" class="btn blue "><i class="fa fa-pencil "></i>Consultar</button>
                                              <button  type="button" ng-click="hideRegisterForm=2"  class="btn default gray-font ">Cancelar</button>
                                        </h3>
                                    </div>

                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="col-md-12 col-sm-12 col-xs-12 " ng-show="show==9 ">
                        <div class="col-md-2 col-sm-12 col-xs-12 no-padding">
                            <button type="button" ng-click="show=4; security_key=''" class="btn default gray-font ">Cerrar</button>
                        </div>

                        <div class=" col-md-10 portlet-title gray-font">
                            <div class="caption text-center font-30">
                                {{emergencySecurityKeyTitle}}
                            </div>
                        </div>
                        <div class="height-1-percent col-md-12 hidden-sm hidden-xs "></div>
                        <div class="portlet-body ">
                            <div class="col-md-4">
                                <div class="access_car_information gray-font ">
                                    <h5 class=" font-19">Casa: <span class="bold">{{key_house_number}}</span> </h5>

                                </div>
                            </div>
                            <div class="col-md-8 no-padding">
                                <div class="access_car_information gray-font ">
                                    <h5 class=" font-19">Clave emergencia: <span class="bold">{{emergency_security_key}}</span> </h5>

                                </div>
                            </div>
                            <div class="caption text-center gray-font font-19">
                                Residentes de la filial
                            </div>
                            <div class="table-scrollable" id="tableResidentsByKey">
                                <table ng-show="residents.length>0" class="table table-striped table-hover font-12">
                                    <thead>
                                        <tr>
                                            <th>Nombre completo</th>
                                            <th>Cédula</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="resident in residents | filter:search | orderBy:'name'">
                                            <td>{{resident.name}}</td>
                                            <td>{{resident.identification_number}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="caption text-center gray-font font-19">
                                Vehículos de la filial
                            </div>
                            <div class="table-scrollable" id="tableVehiculesByKey">
                                <table class="table table-striped table-hover font-12">
                                    <thead>
                                        <tr>
                                            <th>Placa</th>
                                            <th>Marca</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="vehicule in vehicules |  orderBy:'name'">
                                            <td style="text-transform: uppercase;">{{vehicule.license_plate}}</td>
                                            <td>{{vehicule.brand}}</td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12 " ng-show="show==10">
                        <div class="loading col-lg-12 col-md-12 col-sm-12 col-xs-12"  id="loadingIconnn">
                            <h1 class="text-center"><img src="../../assets/global/img/2.gif" alt="" /></h1>
                        </div>
                        <div class="display-none" id="visitantInvitedtAccess">
                            <h1 class="page-title green-font bold text-center font-30 " id="registered_access_tittle">Visitante invitado</h1>

                            <div class="col-md-8 gray-font">
                                <div class="height-5-percent col-md-12 hidden-sm hidden-xs "></div>
                                <h5 class="font-20 text-center bold gray-font">{{invited_visitant_name}} {{invited_visitant_last_name}} {{invited_visitant_second_last_name}}</h5>
                                <h5 class="font-20 text-center gray-font">Nombre</h5>
                            </div>
                            <div class="col-md-4 col-sm-4  gray-font">
                                <div class="height-5-percent col-md-12 hidden-sm hidden-xs "></div>
                                <h5 class="font-30 bold text-center"> {{invited_visitant_house_number}}</h5>
                                <h5 class="font-20 text-center">Casa</h5>
                            </div>
                            <div class="height-5-percent col-md-12 hidden-sm hidden-xs "></div>


                            <div class="col-md-7 col-sm-8 text-center gray-font no-padding">
                                <h5 class="font-30 bold text-center "> {{invited_visitant_indentification}}</h5>
                                <h5 class=" font-20 text-center">Cédula</h5>
                            </div>
                            <div class="col-md-5 col-sm-8 text-center gray-font no-padding">
                                <h5 class="font-30 bold text-center "> {{invited_visitant_license_plate}}</h5>
                                <h5 class=" font-20 text-center">Placa</h5>
                            </div>

                            <div class="height-5-percent col-md-12 col-sm-12 hidden-xs text-center"></div>
                            <button type="submit" class="btn red font-15 col-md-offset-1 col-md-10 col-sm-12 col-xs-12 btn-access-door " ng-click="insert_visitant_invited()" name="buton ">Registrar visita </button>


                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="height-5-percent col-md-12 col-sm-12 hidden-xs "></div> -->
            <div class="row" ng-show="show==7" ng-hide="hideEmergencyForm==1">
                <div class="col-md-12 " id="emergencyContainer">
                    <h1 class="text-center huge-margin-top white-color font-80 bold ">Emergencia reportada en la casa número {{house_number_emergency}}</h1>
                    <form role="form" ng-submit="attendEmergency()">
                        <h3 class="text-center">
                          <button type="submit" class="btn btn-default col-md-offset-4 col-md-4 font-20 marging-top-100 height-12-percent">Atender emergencia</button>
                      </h3>
                    </form>
                </div>
            </div>
            <div class="row access-container" ng-show="show==6" ng-hide="hideRegisterForm==2 || hideEmergencyForm==2">
                <div class="col-md-12">
                    <div class="portlet light bordered">
                        <div class="portlet-title">
                            <div class="caption font-green-haze">
                                <i class="fa fa-car font-green-haze"></i>
                                <span class="caption-subject bold uppercase">Reportar cambio de turno</span>
                            </div>

                        </div>
                        <div class="portlet-body form">
                            <form role=" form " ng-submit="reportTurn() ">
                                <div class="form-body ">
                                    <p class="gray-font font-15">
                                        Para seleccionar los oficiales de este turno, de click sobre la fila del oficial que desee elegir.
                                    </p>
                                    <div class="col-md-6">
                                        <div class="portlet box gray">
                                            <div class="portlet-title col-md-12">
                                                <div class="caption col-md-7 ">
                                                    Oficiales
                                                </div>
                                                <div class="form-group no-padding col-md-5 marging-top-2-percent col-sm-3 col-xs-6">
                                                    <div class="input-icon ">
                                                        <i class="fa fa-search"></i>
                                                        <input type="text" class="form-control input-circle" placeholder="Buscar oficial" ng-model="search">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="portlet-body access_officer_table">
                                                <div class=" col-lg-12 col-md-12 col-sm-12 col-xs-12" id="loadingIconaa">
                                                    <h1 class="text-center"><img src="../../assets/global/img/loader4.gif" alt="" /></h1>
                                                </div>
                                                <div class="table-scrollable display-none" id="officers_turn_container">

                                                    <table class="table table-striped table-hover font-12">
                                                        <thead>
                                                            <tr>
                                                                <th>Nombre completo</th>
                                                                <th>Cédula</th>
                                                            </tr>
                                                        </thead>


                                                        <tbody>
                                                            <tr ng-repeat="officer in officers | filter:search | orderBy:'name' " ng-click="moveToLinked(officer)">
                                                                <td>{{officer.name}} {{officer.last_name}} {{officer.second_last_name}}</td>
                                                                <td>{{officer.identification_number}}</td>
                                                                <td><i class="fa fa-plus" aria-hidden="true" style="color:green;"></i></td>
                                                            </tr>

                                                        </tbody>

                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-md-6">
                                        <div class="portlet box gray ">
                                            <div class="portlet-title">
                                                <div class="caption  ">
                                                    Oficiales seleccionados
                                                </div>
                                            </div>

                                            <div class="portlet-body access_officer_table">

                                                <div class="table-scrollable ">
                                                    <table class="table table-striped table-hover font-12">
                                                        <thead>
                                                            <tr>
                                                                <th>Nombre</th>
                                                                <th>Cédula</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="officer in officersLinked |  orderBy:'name' " ng-click="moveToLink(officer)">
                                                                <td>{{officer.name}} {{officer.last_name}} {{officer.second_last_name}}</td>
                                                                <td>{{officer.identification_number}}</td>
                                                                <td><i class="fa fa-minus" aria-hidden="true" style="color:red;"></i></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    <h3 class="text-right ">
                                          <button type="submit" class="btn blue "><i class="fa fa-pencil "></i> Reportar turno</button>
                                          <button  type="button" ng-click="hideRegisterForm=2"  class="btn default gray-font ">Cancelar</button>
                                    </h3>

                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>
</div>
